âœ… CHECK-LIST FLUTTER â€“ APK QUI NE S'OUVRE PAS
1ï¸âƒ£ Flutter / Projet

âœ… flutter doctor â†’ aucune erreur critique
   âš ï¸  Android toolchain : cmdline-tools manquant (non critique)
   âš ï¸  Android Studio : non installÃ© (non critique, IntelliJ prÃ©sent)

â¬œ flutter clean
   â†’ ExÃ©cuter: flutter clean

â¬œ flutter pub get
   â†’ ExÃ©cuter: flutter pub get

â¬œ flutter pub outdated (plugins compatibles)
   â†’ ExÃ©cuter: flutter pub outdated

2ï¸âƒ£ main.dart

âœ… WidgetsFlutterBinding.ensureInitialized();
   â†’ PrÃ©sent ligne 25 de lib/main.dart

âœ… Pas de code bloquant avant runApp()
   â†’ Aucun code bloquant, initialisations optionnelles commentÃ©es

âœ… Firebase initialisÃ© avant runApp
   â†’ N/A - Firebase non utilisÃ© dans ce projet

âœ… Pas d'exception dans initState()
   â†’ Gestion d'erreur globale prÃ©sente

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  runApp(const MyApp());
}

3ï¸âƒ£ Plugins Flutter

âœ… Tous les plugins supportent Android
   â†’ Tous les plugins listÃ©s supportent Android

â¬œ Versions compatibles entre elles
   â†’ VÃ©rifier avec: flutter pub deps

â¬œ Aucun plugin obsolÃ¨te
   â†’ VÃ©rifier avec: flutter pub outdated

â¬œ flutter pub deps sans conflit
   â†’ ExÃ©cuter: flutter pub deps

âœ… Test sans plugins (si doute)
   â†’ Workmanager dÃ©sactivÃ© au dÃ©marrage pour Ã©viter les crashes

4ï¸âƒ£ AndroidManifest.xml

âœ… android:exported="true" (Android 12+)
   â†’ PrÃ©sent ligne 22 de AndroidManifest.xml

âœ… MainActivity bien dÃ©clarÃ©e
   â†’ DÃ©clarÃ©e ligne 21: <activity android:name=".MainActivity" ... />

âœ… Permissions nÃ©cessaires ajoutÃ©es :

âœ… INTERNET
   â†’ Ligne 7: <uses-permission android:name="android.permission.INTERNET" />

âœ… LOCATION
   â†’ Lignes 3-4: ACCESS_FINE_LOCATION et ACCESS_COARSE_LOCATION

âš ï¸  CAMERA
   â†’ MANQUANT (ajouter si nÃ©cessaire)

âš ï¸  STORAGE
   â†’ MANQUANT (ajouter si nÃ©cessaire pour Android 10+)

<uses-permission android:name="android.permission.INTERNET"/>

5ï¸âƒ£ MainActivity (Kotlin / Java)

âœ… HÃ©rite bien de FlutterActivity
   â†’ Ligne 7: public class MainActivity extends FlutterActivity

âœ… Pas de code custom inutile
   â†’ Code custom prÃ©sent mais utile (logs et gestion d'erreur)

âœ… Pas d'ancien embedding Flutter
   â†’ Utilise le nouveau embedding (FlutterActivity)

class MainActivity: FlutterActivity() {}

6ï¸âƒ£ Versions Android

âš ï¸  minSdkVersion compatible tÃ©lÃ©phone
   â†’ Utilise flutter.minSdkVersion (vÃ©rifier qu'il est â‰¥ 21)

âš ï¸  targetSdkVersion â‰¥ 31
   â†’ Utilise flutter.targetSdkVersion (vÃ©rifier qu'il est â‰¥ 31)

âš ï¸  compileSdkVersion Ã  jour
   â†’ Utilise flutter.compileSdkVersion

minSdkVersion 21
targetSdkVersion 34

7ï¸âƒ£ APK Debug vs Release

â¬œ flutter run fonctionne
   â†’ Tester: flutter run

â¬œ flutter build apk --debug testÃ©
   â†’ Tester: flutter build apk --debug

â¬œ flutter build apk --release testÃ©
   â†’ Tester: flutter build apk --release

âœ… Si release âŒ â†’ R8 / ProGuard
   â†’ DÃ©sactivÃ© dans build.gradle lignes 39-40:
   minifyEnabled = false
   shrinkResources = false

8ï¸âƒ£ ABI / Architecture

â¬œ TÃ©lÃ©phone compatible ARM
   â†’ VÃ©rifier l'architecture de votre tÃ©lÃ©phone

â¬œ APK universelle gÃ©nÃ©rÃ©e
   â†’ GÃ©nÃ©rer avec: flutter build apk --target-platform android-arm,android-arm64,android-x64

flutter build apk --target-platform android-arm,android-arm64,android-x64

9ï¸âƒ£ Permissions Runtime

âœ… Demande runtime faite dans Flutter
   â†’ GÃ©rÃ© dans LocationService avec Geolocator.requestPermission()

âœ… App ne crashe pas si permission refusÃ©e
   â†’ Gestion d'erreur prÃ©sente dans LocationService

ğŸ”Ÿ Firebase (si utilisÃ©)

âœ… google-services.json prÃ©sent
   â†’ N/A - Firebase non utilisÃ©

âœ… Firebase.initializeApp() appelÃ©
   â†’ N/A - Firebase non utilisÃ©

âœ… Bon applicationId
   â†’ com.example.social_media (ligne 24 de build.gradle)

âœ… SHA-1 ajoutÃ© (si Auth / Maps)
   â†’ N/A - Firebase non utilisÃ©

1ï¸âƒ£1ï¸âƒ£ Logcat (ULTIME VÃ‰RITÃ‰)

â¬œ adb logcat
   â†’ ExÃ©cuter: adb logcat | Select-String -Pattern "flutter|error|exception|fatal|MainActivity"

â¬œ Rechercher FATAL EXCEPTION
   â†’ ExÃ©cuter: adb logcat *:E

â¬œ Copier le stacktrace exact
   â†’ Capturer le stacktrace complet en cas d'erreur

ğŸ¯ Astuce PRO (rapide)

ğŸ‘‰ Si l'app ne s'ouvre PAS :

flutter run

Si Ã§a marche â†’ problÃ¨me Android release (R8/ProGuard, signature, etc.)
Si Ã§a ne marche pas â†’ problÃ¨me Flutter / code

ğŸ“‹ RÃ‰SUMÃ‰ DES ACTIONS REQUISES

Actions ImmÃ©diates :
1. â¬œ ExÃ©cuter flutter clean
2. â¬œ ExÃ©cuter flutter pub get
3. â¬œ ExÃ©cuter flutter pub outdated
4. â¬œ ExÃ©cuter flutter pub deps
5. â¬œ Tester flutter run
6. â¬œ Tester flutter build apk --debug
7. â¬œ Tester flutter build apk --release
8. â¬œ VÃ©rifier les versions SDK dans build.gradle
9. â¬œ GÃ©nÃ©rer l'APK universelle
10. â¬œ Utiliser adb logcat pour voir les erreurs

Points Ã  VÃ©rifier :
âš ï¸  Versions SDK (minSdk, targetSdk, compileSdk) - utiliser les valeurs Flutter par dÃ©faut
âš ï¸  Permissions CAMERA et STORAGE (si nÃ©cessaires pour l'application)
âš ï¸  Architecture du tÃ©lÃ©phone vs APK gÃ©nÃ©rÃ©e

Points OK :
âœ… MainActivity correcte
âœ… AndroidManifest correct
âœ… main.dart correct
âœ… ProGuard dÃ©sactivÃ©
âœ… Gestion d'erreur prÃ©sente
âœ… Permissions runtime gÃ©rÃ©es

ğŸ”§ SCRIPT DE VÃ‰RIFICATION

ExÃ©cuter: .\verifier-checklist.ps1
(CrÃ©Ã© dans front/verifier-checklist.ps1)

ğŸ“„ RAPPORT DÃ‰TAILLÃ‰

Voir: front/CHECKLIST_RAPPORT.md pour le rapport complet
